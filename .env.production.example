# ============================================
# Cronos Fichajes - Variables de Producción
# ============================================
# Copiar a .env y configurar los valores reales
# NO commitear el archivo .env con secrets reales
#
# Generar secrets con: openssl rand -base64 48

# -----------------------------------------
# Base de Datos PostgreSQL (OBLIGATORIO)
# -----------------------------------------
# URL de conexión completa con SSL
# Formato: postgres://user:password@host:port/database?sslmode=require
DATABASE_URL=postgres://user:password@host:5432/cronos_fichajes?sslmode=require

# Para Docker Compose (opcional)
# POSTGRES_DB=pointeuse
# POSTGRES_USER=postgres
# POSTGRES_PASSWORD=CAMBIAR_POR_PASSWORD_SEGURO

# -----------------------------------------
# Autenticación JWT (OBLIGATORIO - min 32 chars)
# -----------------------------------------
# Generar con: openssl rand -base64 48
JWT_ACCESS_SECRET=
JWT_REFRESH_SECRET=

# -----------------------------------------
# Modo Quiosco (OBLIGATORIO - min 16 chars)
# -----------------------------------------
# Generar con: openssl rand -base64 24
KIOSK_KEY=

# -----------------------------------------
# CORS (OBLIGATORIO - NO usar *)
# -----------------------------------------
# Origen permitido para peticiones CORS
# Ejemplo: https://fichaje.miempresa.com
CORS_ORIGIN=https://TU_DOMINIO_AQUI

# -----------------------------------------
# Entorno y Puerto
# -----------------------------------------
NODE_ENV=production
PORT=3000

# -----------------------------------------
# Migraciones de Base de Datos
# -----------------------------------------
# Activar SOLO para el primer despliegue o actualizaciones de schema
# Después de aplicar, desactivar o eliminar esta variable
# RUN_DB_MIGRATIONS=true

# -----------------------------------------
# Configuración de Horas Extras (opcional)
# -----------------------------------------
# Minutos de trabajo esperados por día (8 horas = 480)
EXPECTED_DAILY_MINUTES=480

# Umbral mínimo de overtime para crear solicitud (minutos)
OVERTIME_MIN_THRESHOLD=15

# Decimales para redondeo de coordenadas GPS
GEO_DECIMALS=4

# -----------------------------------------
# DigitalOcean Spaces / S3 (opcional)
# -----------------------------------------
# Para almacenamiento de firmas digitales
# Si no está configurado, las firmas no se almacenan en cloud

# Clave de acceso Spaces
DO_SPACES_KEY=

# Clave secreta Spaces
DO_SPACES_SECRET=

# Región del bucket (ej: ams3, nyc3, fra1)
DO_SPACES_REGION=ams3

# Nombre del bucket
DO_SPACES_BUCKET=cronos-fichajes

# ============================================
# Resumen de Variables OBLIGATORIAS
# ============================================
# DATABASE_URL        - Conexión PostgreSQL
# JWT_ACCESS_SECRET   - Min 32 caracteres
# JWT_REFRESH_SECRET  - Min 32 caracteres
# KIOSK_KEY          - Min 16 caracteres
# CORS_ORIGIN        - URL del frontend (no *)
# ============================================
